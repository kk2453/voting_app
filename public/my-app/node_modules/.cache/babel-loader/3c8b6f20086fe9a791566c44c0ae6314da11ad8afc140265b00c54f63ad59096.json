{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\adity\\\\Desktop\\\\Voter\\\\my-app\\\\src\\\\components\\\\Content.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useContext, useState, useRef } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Noteitem from \"./Noteitem\";\nimport Notecontext from \"../context/notes/NotesContext\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Content(props) {\n  _s();\n  const a = useContext(Notecontext);\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (localStorage.getItem(\"token\")) {\n      a.getNotes();\n    } else {\n      navigate(\"/\");\n    }\n    // eslint-disable-next-line\n  }, []);\n  const [disable, setdisable] = useState(false);\n  const [newvalue, setnewvalue] = useState();\n  const handleonclick = async note => {\n    //e.preventDefault()\n    //console.log(e.note)\n    console.log(note);\n    setnewvalue(note);\n    await a.getuser();\n    setdisable(true);\n  };\n  const handleonclick2 = async e => {\n    e.preventDefault();\n    if (handleonclick) {\n      const c = a.user._id;\n      console.log(c);\n      await newvalue.voteCount++;\n      await a.updatecandidate(newvalue._id, newvalue.name, newvalue.party, newvalue.voteCount);\n      await a.updateuser(c, a.user.name, a.user.email, a.user.aadharNumber, a.user.isvoted);\n      setdisable(false);\n      localStorage.removeItem(\"token\");\n      navigate(\"/end\");\n      props.handleonClick2();\n    } else {}\n  };\n\n  //cameralive\n  const videoRef = useRef(null);\n  useEffect(() => {\n    navigator.mediaDevices.getUserMedia({\n      video: true\n    }).then(stream => {\n      videoRef.current.srcObject = stream;\n    }).catch(err => {\n      console.error(\"Error accessing the camera: \", err);\n      alert(\"Could not access the camera. Please allow camera permissions.\");\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container my-4\",\n      style: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        style: {\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          flexDirection: \"column\",\n          boxSizing: \"border-box\"\n        },\n        children: a.notes.map(note => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(Noteitem, {\n              note: note,\n              name: note.name,\n              party: note.party,\n              handleonClick2: props.handleonClick2,\n              handleonclick: handleonclick,\n              disable: disable\n            }, note._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 15\n            }, this)\n          }, note._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: handleonclick2,\n          type: \"submit\",\n          style: {\n            position: \"relative\",\n            bottom: \"20px\",\n            marginLeft: \"10px\"\n          },\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: \"absolute\",\n        top: \"50px\",\n        left: \"10px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"video\", {\n        ref: videoRef,\n        width: \"320\",\n        height: \"240\",\n        autoPlay: true,\n        style: {\n          border: \"2px solid blue\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n_s(Content, \"0P4XYFrbL9+8B6aoJ4fUhRXEb9I=\", false, function () {\n  return [useNavigate];\n});\n_c = Content;\nvar _c;\n$RefreshReg$(_c, \"Content\");","map":{"version":3,"names":["React","useEffect","useContext","useState","useRef","useNavigate","Noteitem","Notecontext","jsxDEV","_jsxDEV","Fragment","_Fragment","Content","props","_s","a","navigate","localStorage","getItem","getNotes","disable","setdisable","newvalue","setnewvalue","handleonclick","note","console","log","getuser","handleonclick2","e","preventDefault","c","user","_id","voteCount","updatecandidate","name","party","updateuser","email","aadharNumber","isvoted","removeItem","handleonClick2","videoRef","navigator","mediaDevices","getUserMedia","video","then","stream","current","srcObject","catch","err","error","alert","children","className","style","display","justifyContent","alignItems","flexDirection","boxSizing","notes","map","fileName","_jsxFileName","lineNumber","columnNumber","onClick","type","position","bottom","marginLeft","top","left","ref","width","height","autoPlay","border","_c","$RefreshReg$"],"sources":["C:/Users/adity/Desktop/Voter/my-app/src/components/Content.js"],"sourcesContent":["import React, { useEffect,useContext,useState,useRef} from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Noteitem from \"./Noteitem\";\nimport Notecontext from \"../context/notes/NotesContext\";\n\nexport default function Content(props) {\n\n  const a = useContext(Notecontext);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (localStorage.getItem(\"token\")) {\n      a.getNotes();\n    } else {\n      navigate(\"/\");\n    }\n    // eslint-disable-next-line\n  }, []);\n\n\n  const [disable,setdisable]=useState(false);\n  const [newvalue,setnewvalue]=useState();\n  const handleonclick=async(note)=>{\n    //e.preventDefault()\n    //console.log(e.note)\n    console.log(note);\n    setnewvalue(note);\n    await a.getuser()\n    setdisable(true)\n  }\n  const handleonclick2=async(e)=>{\n    e.preventDefault()\n    if(handleonclick){\n      const c=a.user._id\n      console.log(c);\n      await newvalue.voteCount++;\n      await a.updatecandidate(newvalue._id,newvalue.name,newvalue.party,newvalue.voteCount);\n      await a.updateuser(c,a.user.name,a.user.email,a.user.aadharNumber,a.user.isvoted);\n      setdisable(false);\n      localStorage.removeItem(\"token\");\n      navigate(\"/end\");\n      props.handleonClick2();\n    }else{\n\n    }\n  }\n\n  //cameralive\n  const videoRef = useRef(null);\n  useEffect(() => {\n    navigator.mediaDevices.getUserMedia({ video: true })\n      .then((stream) => {\n        videoRef.current.srcObject = stream;\n      })\n      .catch((err) => {\n        console.error(\"Error accessing the camera: \", err);\n        alert(\"Could not access the camera. Please allow camera permissions.\");\n      });\n  }, []);\n\n  return (\n    <>\n    <div className=\"container my-4\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\n      <div className=\"container\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",flexDirection:\"column\",boxSizing: \"border-box\"}}>\n        { \n          a.notes.map((note) => {\n            return (\n              <div key={note._id}>\n              <Noteitem\n                key={note._id}\n                note={note}\n                name={note.name}\n                party={note.party}\n                handleonClick2={props.handleonClick2}\n                handleonclick={handleonclick}\n                disable={disable}\n              />\n              </div>\n            );\n          })\n        }\n      </div>\n      <div ><button className='btn btn-primary' onClick={handleonclick2} type=\"submit\" style={{position:\"relative\",bottom:\"20px\",marginLeft:\"10px\"}}>Submit</button></div>\n    </div>\n    <div style={{position:\"absolute\",top:\"50px\",left:\"10px\"}}>\n        <video ref={videoRef} width=\"320\" height=\"240\" autoPlay style={{ border: \"2px solid blue\" }}></video>\n    </div>\n    </>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}