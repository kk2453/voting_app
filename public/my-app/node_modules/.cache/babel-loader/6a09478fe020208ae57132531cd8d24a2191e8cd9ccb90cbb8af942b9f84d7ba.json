{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\adity\\\\Desktop\\\\votingapp-1\\\\my-app\\\\src\\\\components\\\\Results.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect, useNavigate, useState } from 'react';\nimport Notecontext from \"../context/notes/NotesContext\";\nimport Resultitems from './Resultitems';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Results() {\n  _s();\n  const a = useContext(Notecontext);\n  const navigate = useNavigate;\n  const [winner, setwinner] = useState({\n    name: \"\",\n    voteCount: 0\n  });\n  useEffect(() => {\n    if (localStorage.getItem(\"token1\")) {\n      a.getNotes();\n      findWinner();\n    } else {\n      navigate(\"/\");\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  //   {a.notes.forEach((note) => {\n  //     if(note.voteCount>winner.voteCount){\n  //         console.log(note.voteCount,note.name);\n  //         setwinner(note.voteCount,note.name);\n  //         return(null);\n  //     }\n  //   })}\n\n  // Function to find the note with the highest votes\n  const findWinner = () => {\n    a.notes.forEach(note => {\n      if (note.voteCount > winner.voteCount) {\n        setwinner({\n          name: note.name,\n          voteCount: note.voteCount\n        });\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container text-center\",\n      style: {\n        height: \"500px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row row-cols-auto\",\n        children: a.notes.map(note => {\n          return /*#__PURE__*/_jsxDEV(Resultitems, {\n            note: note,\n            name: note.name,\n            party: note.party,\n            voteCount: note.voteCount\n          }, note._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 21\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        flexDirection: \"colomn\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Winner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [winner.name, \" with \", winner.voteCount, \" votes!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n_s(Results, \"KTiDuVbb+0Pm6cJOvGlB6cD3Pmg=\");\n_c = Results;\nvar _c;\n$RefreshReg$(_c, \"Results\");","map":{"version":3,"names":["React","useContext","useEffect","useNavigate","useState","Notecontext","Resultitems","jsxDEV","_jsxDEV","Fragment","_Fragment","Results","_s","a","navigate","winner","setwinner","name","voteCount","localStorage","getItem","getNotes","findWinner","notes","forEach","note","children","className","style","height","display","justifyContent","alignItems","map","party","_id","fileName","_jsxFileName","lineNumber","columnNumber","flexDirection","_c","$RefreshReg$"],"sources":["C:/Users/adity/Desktop/votingapp-1/my-app/src/components/Results.js"],"sourcesContent":["import React,{useContext,useEffect,useNavigate, useState} from 'react'\r\nimport Notecontext from \"../context/notes/NotesContext\";\r\nimport Resultitems from './Resultitems';\r\n\r\nexport default function Results() {\r\n    const a = useContext(Notecontext);\r\n    const navigate=useNavigate;\r\n    const [winner,setwinner]=useState({name:\"\",voteCount:0});\r\n\r\n    useEffect(() => {\r\n        if (localStorage.getItem(\"token1\")) {\r\n          a.getNotes();\r\n          findWinner();\r\n          \r\n        } else {\r\n          navigate(\"/\");\r\n        }\r\n        // eslint-disable-next-line\r\n      }, []);\r\n    \r\n    //   {a.notes.forEach((note) => {\r\n    //     if(note.voteCount>winner.voteCount){\r\n    //         console.log(note.voteCount,note.name);\r\n    //         setwinner(note.voteCount,note.name);\r\n    //         return(null);\r\n    //     }\r\n    //   })}\r\n\r\n  // Function to find the note with the highest votes\r\n  const findWinner = () => {\r\n    a.notes.forEach((note) => {\r\n      if (note.voteCount > winner.voteCount) {\r\n            setwinner({\r\n                name:note.name,\r\n                voteCount:note.voteCount\r\n            })\r\n      }\r\n    });\r\n  };\r\n  return (\r\n    <>\r\n    <div className=\"container text-center\" style={{height:\"500px\",display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n        <div className=\"row row-cols-auto\">\r\n            {a.notes.map((note) => {\r\n                return (\r\n                    <Resultitems\r\n                        key={note._id}\r\n                        note={note}\r\n                        name={note.name}\r\n                        party={note.party}\r\n                        voteCount={note.voteCount}\r\n                    />\r\n                );\r\n            })}\r\n        </div>\r\n        \r\n    </div>\r\n    <div style={{display:'flex',justifyContent:\"center\",alignItems:\"center\",flexDirection:\"colomn\"}}>\r\n        \r\n            <h3 >Winner</h3>\r\n            <p>{winner.name} with {winner.voteCount} votes!</p>\r\n        \r\n    </div>\r\n    </>\r\n  )\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}